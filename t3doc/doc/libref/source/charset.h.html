<html><head><link rel=stylesheet type="text/css" href="../libref.css"><title>charset.h</title></head><body>
<table class=ban><tr><td><h1>charset.h</h1><td align=right><a href="../file/charset.h.html">documentation</a></table><pre>
<a name="1"></a>#charset "us-ascii"
<a name="2"></a>
<a name="3"></a>/*
<a name="4"></a> *   Copyright (c) 2001, 2006 Michael J. Roberts
<a name="5"></a> *   
<a name="6"></a> *   This file is part of TADS 3.
<a name="7"></a> *   
<a name="8"></a> *   This header defines the CharacterSet intrinsic class.  
<a name="9"></a> */
<a name="10"></a>
<a name="11"></a>#ifndef _CHARSET_H_
<a name="12"></a>#define _CHARSET_H_
<a name="13"></a>
<a name="14"></a>/* include our base class definition */
<a name="15"></a>#include "systype.h"
<a name="16"></a>
<a name="17"></a>/*
<a name="18"></a> *   The CharacterSet intrinsic class provides information on character set
<a name="19"></a> *   translations and can be used to translate between the Unicode character
<a name="20"></a> *   set that the T3 VM uses internally for string values and the local
<a name="21"></a> *   character set or sets used for display, keyboard input, and file I/O.  
<a name="22"></a> */
<a name="23"></a>intrinsic class CharacterSet 'character-set/030001': Object
<a name="24"></a>{
<a name="25"></a>    /*
<a name="26"></a>     *   Constructor:
<a name="27"></a>     *   
<a name="28"></a>     *   new CharacterSet(charsetName) - creates an object to represent the
<a name="29"></a>     *   named local character set.  Certain character set names are
<a name="30"></a>     *   pre-defined:
<a name="31"></a>     *   
<a name="32"></a>     *   us-ascii - the plain 7-bit ASCII character set
<a name="33"></a>     *.  utf-8 - Unicode UTF-8 (a multi-byte unicode encoding)
<a name="34"></a>     *.  utf-16le - little-endian 16-bit Unicode
<a name="35"></a>     *.  utf-16be - big-endian 16-bit Unicode
<a name="36"></a>     *   
<a name="37"></a>     *   In addition, any character set for which the VM has an external
<a name="38"></a>     *   mapping file can be used.  Check your platform-specific T3
<a name="39"></a>     *   installation notes for infomration on how character set mapping
<a name="40"></a>     *   files are implemented on your version of T3.
<a name="41"></a>     *   
<a name="42"></a>     *   A CharacterSet can be created for a non-existent mapping, but the
<a name="43"></a>     *   object cannot be used to perform any mappings; an
<a name="44"></a>     *   UnknownCharacterSetException will be thrown if any mapping is
<a name="45"></a>     *   attempted with a CharacterSet object that has non-existent local
<a name="46"></a>     *   mappings.  You can determine if the local mapping exists with the
<a name="47"></a>     *   isMappingKnown method.  
<a name="48"></a>     */
<a name="49"></a>
<a name="50"></a>    /*
<a name="51"></a>     *   Get the name of the character set.  This simply returns the name
<a name="52"></a>     *   that was given to construct the character set. 
<a name="53"></a>     */
<a name="54"></a>    getName();
<a name="55"></a>
<a name="56"></a>    /*
<a name="57"></a>     *   Determine if the mapping is known.  This returns true if the
<a name="58"></a>     *   character set has a known local mapping, nil if not.  Note that it
<a name="59"></a>     *   doesn't matter whether or not the character set is actually in use
<a name="60"></a>     *   on the local platform; all that matters is that a T3 mapping file
<a name="61"></a>     *   is available on this machine. 
<a name="62"></a>     */
<a name="63"></a>    isMappingKnown();
<a name="64"></a>
<a name="65"></a>    /*
<a name="66"></a>     *   Determine if a character or string of characters is mappable to this
<a name="67"></a>     *   character set.  If the input is an integer, it represents the
<a name="68"></a>     *   Unicode character code for a single character; if the input is a
<a name="69"></a>     *   string, each character in the string is checked.  This returns true
<a name="70"></a>     *   if every character given has a valid mapping in the local character
<a name="71"></a>     *   set, nil if not.  Note that if a string is given, and even one
<a name="72"></a>     *   character is not mappable, this returns nil.  
<a name="73"></a>     */
<a name="74"></a>    isMappable(val);
<a name="75"></a>
<a name="76"></a>    /*
<a name="77"></a>     *   Determine if a character or string of characters is "round-trip"
<a name="78"></a>     *   mappable to this character set.  If the input is an integer, it
<a name="79"></a>     *   represents a Unicode character code to be tested; if the input is a
<a name="80"></a>     *   string, each character in the string is tested.  Returns true if
<a name="81"></a>     *   every character given has a valid round-trip mapping, nil if not.
<a name="82"></a>     *   
<a name="83"></a>     *   A character has a round-trip mapping if it can be mapped to this
<a name="84"></a>     *   local character set and then back to Unicode to yield the original
<a name="85"></a>     *   character.  If a character has a round-trip mapping, then in general
<a name="86"></a>     *   the character has an exact representation in the local character set
<a name="87"></a>     *   (as opposed to an approximation: if 'a-umlaut' maps to a simple
<a name="88"></a>     *   unaccented 'a', or to 'ae', then it has only an approximated
<a name="89"></a>     *   representation).  
<a name="90"></a>     */
<a name="91"></a>    isRoundTripMappable(val);
<a name="92"></a>}
<a name="93"></a>
<a name="94"></a>#endif /* _CHARSET_H_ */
</pre>
<div class=ftr>TADS 3 Library Manual<br>Generated on 5/6/2009 from TADS version 3.0.18.1</div>
</body>
</html>
